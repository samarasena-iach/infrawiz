{% extends "base.html" %}

{% block title %}Contact Page{% endblock %}

{% block content %}
<!-- Page content-->
<section class="py-5">
        <div class="bg-light rounded-3 py-3 px-4 px-md-5 mb-5">
            <div class="text-center mb-5">
                <h1 class="fw-bolder">Generated JSON</h1>
            </div>

            <!-- About section two-->
            <section class="py-1">
                <div class="container px-5 my-1">
                    <div class="row">
                        <div class="col-lg-6 order-first order-lg-last">
                            <img class="img-fluid rounded mb-5 mb-lg-0" src="{{ json_content.img }}" alt="..." />

                        </div>

                        <div class="col-lg-6">
                            <h2 class="fw-bolder">{{ json_content.project }}</h2>
                            <button id="editButton" onclick="toggleEdit()">Edit</button>
                            <pre id="jsonContent" class="fw-normal text-muted mb-0">
                                {{ json_content.generated_json }}
                            </pre>
                        </div>
                    </div>
                </div>
            </section>

            <script>
                function toggleEdit() {
                    var jsonContent = document.getElementById("jsonContent");
                    var editButton = document.getElementById("editButton");

                    if (jsonContent.contentEditable === "true") {
                        jsonContent.contentEditable = "false";
                        jsonContent.setAttribute("readonly", "true");
                        jsonContent.style.backgroundColor = "#f8f9fa";
                        editButton.textContent = "Edit";
                    } else {
                        jsonContent.contentEditable = "true";
                        jsonContent.removeAttribute("readonly");
                        jsonContent.style.backgroundColor = "#fdffcd";
                        editButton.textContent = "Save";
                    }
                }
            </script>
        </div>
</section>
{% endblock %}